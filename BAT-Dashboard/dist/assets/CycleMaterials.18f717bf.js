import{F as M}from"./FavoriteToggler.c8265ca9.js";import{O as R}from"./OptionalToggler.a82a6425.js";import{F as k}from"./FilterTogglerMulti.64c5bced.js";import{_ as B,u as U,f as K,r as u,q as Y,k as A,g as m,a as g,o as f,c as D,e as s,t as d,j as i,h as _,d as n,T as N,w as F,i as z,F as j,x as q,y as G,z as O,n as E}from"./index.f86ed6a8.js";/* empty css                                                                       */const T=p=>(q("data-v-dbcd423c"),p=p(),G(),p),H=T(()=>s("div",{class:"multiselect-label"},[s("span",null,"CYCLE "),O("Selection:")],-1)),J=T(()=>s("div",{class:"multiselect-label"},[s("span",null,"ACTIVITY "),O("Selection: ")],-1)),P={class:"filter-group"},Q={setup(p){const o=U();K(()=>{c.value=[""],o.togglers.find(e=>e.name==="cycle_1").value!=="unset"&&(t.cycleValue=[o.togglers.find(e=>e.name==="cycle_1").value]),o.togglers.find(e=>e.name==="cycle_2").value!=="unset"&&(t.activityValue=o.togglers.find(e=>e.name==="cycle_2").value),o.togglers.find(e=>e.name==="cycle_3").value!=="unset"&&(r.value=o.togglers.find(e=>e.name==="cycle_3").value),o.togglers.find(e=>e.name==="cycle_5").value!=="unset"&&(c.value=o.togglers.find(e=>e.name==="cycle_5").value)});const w=u(["Indep/Local","RKA"]),r=u(["Indep/Local","RKA"]),y=u([{value:3,label:"Cycle Name 4",activities:[5],favorite:!0,year:"2023"},{value:2,label:"Cycle Name 3",activities:[2,3,4],year:"2023"},{value:1,label:"Cycle Name 2",activities:[1,2,4],favorite:!0,year:"2022"},{value:0,label:"Cycle Name 1",activities:[1,3,4],favorite:!0,year:"2022"}]),V=u([{value:"optional_1",label:"Name 1"},{value:"optional_2",label:"Name 2"},{value:"optional_3",label:"Name 3"}]),c=u([""]),I=u([{value:0,label:"ALL SELECTED"},{value:1,label:"Activity 1"},{value:2,label:"Activity 2"},{value:3,label:"Activity 3"},{value:4,label:"Activity 4"},{value:5,label:"Activity 5"}]),t=Y({cycleValue:[0],activityValue:[0]}),h=A(()=>y.value.filter(e=>t.cycleValue.includes(e.value))),b=A(()=>I.value.filter(({value:e})=>e===0||t.cycleValue.includes(0)?!0:h.value.some(({activities:l})=>l.includes(e))));m(()=>t.cycleValue,e=>{e.length<1&&(t.cycleValue=[y.value.length-1]),t.activityValue=t.activityValue.filter(l=>b.value.some(({value:v})=>l===v)),o.save(t.cycleValue[0],"cycle_1")}),m(()=>t.activityValue,e=>{e.length<1&&(t.activityValue=[0]),o.save(t.activityValue,"cycle_2")}),m(()=>r.value,e=>{e.length!==void 0&&o.save(r.value,"cycle_3")}),m(()=>c.value,e=>{e.length!==void 0&&o.save(c.value,"cycle_5")});function C(e,l){l==="cycleValue"?t[l]=[e]:l==="activityValue"&&(e==0?t[l]=[0]:e!==0&&t[l].includes(0)&&(t[l]=t[l].filter(v=>v!==0)))}let S=e=>{let l=new Date;return Number(e)===l.getFullYear()};return(e,l)=>{const v=g("ExportExcel"),x=g("Multiselect"),L=g("RouterView");return f(),D(j,null,[s("div",null,d(i(t).SalesChannelFilter_Value),1),(f(),_(N,{to:"#export-excel"},[n(v,{disabled:""})])),(f(),_(N,{to:"#multiselector"},[H,n(x,{modelValue:i(t).cycleValue,"onUpdate:modelValue":l[0]||(l[0]=a=>i(t).cycleValue=a),"close-on-select":!0,options:y.value,mode:"tags",clearOnSelect:!1,canClear:!1,onSelect:l[1]||(l[1]=a=>C(a,"cycleValue")),searchable:!0,placeholder:"Start typing or select...",style:{marginBottom:"16px"}},{option:F(({option:a})=>[s("span",null,d(a.label),1),s("span",{class:E(["tag",{current:i(S)(a.year)}])},d(a.year),3)]),_:1},8,["modelValue","options"]),J,n(x,{modelValue:i(t).activityValue,"onUpdate:modelValue":l[2]||(l[2]=a=>i(t).activityValue=a),"close-on-select":!0,options:i(b),mode:"tags",onSelect:l[3]||(l[3]=a=>C(a,"activityValue")),searchable:!0,placeholder:"Start typing or select..."},{option:F(({option:a})=>[s("span",null,d(a.label),1),s("span",{class:E(["tag",{current:i(S)(a.year)}])},d(a.year),3)]),_:1},8,["modelValue","options"])])),s("div",P,[n(M,{options:y.value,modelValue:i(t).cycleValue,"onUpdate:modelValue":l[4]||(l[4]=a=>i(t).cycleValue=a)},null,8,["options","modelValue"]),n(k,{options:w.value,modelValue:r.value,"onUpdate:modelValue":l[5]||(l[5]=a=>r.value=a)},null,8,["options","modelValue"]),V.value&&V.value.length>0?(f(),_(R,{key:0,options:V.value,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=a=>c.value=a)},null,8,["options","modelValue"])):z("",!0)]),n(L)],64)}}};var le=B(Q,[["__scopeId","data-v-dbcd423c"]]);export{le as default};
