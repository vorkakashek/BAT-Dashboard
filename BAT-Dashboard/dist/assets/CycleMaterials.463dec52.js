import{F as U}from"./FavoriteToggler.89a500c5.js";import{_ as I,j as S,o as v,c as f,F as O,b as B,k as D,m as K,i,e as s,l as Y,t as m,u as $,f as q,r as p,p as z,g,a as x,h as C,d as y,T,w,s as j,x as G,y as H,z as k,n as E}from"./index.a590380b.js";import{F as J}from"./FilterTogglerMulti.4bfaaa0e.js";/* empty css                                                                       */const P={class:"filter_toggler"},Q={class:"filter_toggler-option"},W=["value"],X={class:"filter_toggler-option-label"},Z={props:{options:{type:Array,required:!0},modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(n,{emit:o}){const V=n,u=S({get:()=>V.modelValue,set:r=>o("update:modelValue",r)});return(r,d)=>(v(),f("div",P,[(v(!0),f(O,null,B(n.options,c=>(v(),f("label",Q,[D(s("input",{type:"checkbox",value:c.value,"onUpdate:modelValue":d[0]||(d[0]=b=>Y(u)?u.value=b:null)},null,8,W),[[K,i(u)]]),s("div",X,m(c.label),1)]))),256))]))}};var ee=I(Z,[["__scopeId","data-v-825cd19c"]]);const L=n=>(G("data-v-dbcd423c"),n=n(),H(),n),le=L(()=>s("div",{class:"multiselect-label"},[s("span",null,"CYCLE "),k("Selection:")],-1)),te=L(()=>s("div",{class:"multiselect-label"},[s("span",null,"ACTIVITY "),k("Selection: ")],-1)),ae={class:"filter-group"},oe={setup(n){const o=$();q(()=>{c.value=[""],o.togglers.find(e=>e.name==="cycle_1").value!=="unset"&&(t.cycleValue=[o.togglers.find(e=>e.name==="cycle_1").value]),o.togglers.find(e=>e.name==="cycle_2").value!=="unset"&&(t.activityValue=o.togglers.find(e=>e.name==="cycle_2").value),o.togglers.find(e=>e.name==="cycle_3").value!=="unset"&&(u.value=o.togglers.find(e=>e.name==="cycle_3").value),o.togglers.find(e=>e.name==="cycle_5").value!=="unset"&&(c.value=o.togglers.find(e=>e.name==="cycle_5").value)});const V=p(["Indep/Local","RKA"]),u=p(["Indep/Local","RKA"]),r=p([{value:3,label:"Cycle Name 4",activities:[5],favorite:!0,year:"2023"},{value:2,label:"Cycle Name 3",activities:[2,3,4],year:"2023"},{value:1,label:"Cycle Name 2",activities:[1,2,4],favorite:!0,year:"2022"},{value:0,label:"Cycle Name 1",activities:[1,3,4],favorite:!0,year:"2022"}]),d=p([{value:"optional_1",label:"Name 1"},{value:"optional_2",label:"Name 2"},{value:"optional_3",label:"Name 3"}]),c=p([""]),b=p([{value:0,label:"ALL SELECTED"},{value:1,label:"Activity 1"},{value:2,label:"Activity 2"},{value:3,label:"Activity 3"},{value:4,label:"Activity 4"},{value:5,label:"Activity 5"}]),t=z({cycleValue:[0],activityValue:[0]}),M=S(()=>r.value.filter(e=>t.cycleValue.includes(e.value))),A=S(()=>b.value.filter(({value:e})=>e===0||t.cycleValue.includes(0)?!0:M.value.some(({activities:l})=>l.includes(e))));g(()=>t.cycleValue,e=>{e.length<1&&(t.cycleValue=[r.value.length-1]),t.activityValue=t.activityValue.filter(l=>A.value.some(({value:_})=>l===_)),o.save(t.cycleValue[0],"cycle_1")}),g(()=>t.activityValue,e=>{e.length<1&&(t.activityValue=[0]),o.save(t.activityValue,"cycle_2")}),g(()=>u.value,e=>{e.length!==void 0&&o.save(u.value,"cycle_3")}),g(()=>c.value,e=>{e.length!==void 0&&o.save(c.value,"cycle_5")});function h(e,l){l==="cycleValue"?t[l]=[e]:l==="activityValue"&&(e==0?t[l]=[0]:e!==0&&t[l].includes(0)&&(t[l]=t[l].filter(_=>_!==0)))}let N=e=>{let l=new Date;return Number(e)===l.getFullYear()};return(e,l)=>{const _=x("ExportExcel"),F=x("Multiselect"),R=x("RouterView");return v(),f(O,null,[s("div",null,m(i(t).SalesChannelFilter_Value),1),(v(),C(T,{to:"#export-excel"},[y(_,{disabled:""})])),(v(),C(T,{to:"#multiselector"},[le,y(F,{modelValue:i(t).cycleValue,"onUpdate:modelValue":l[0]||(l[0]=a=>i(t).cycleValue=a),"close-on-select":!0,options:r.value,mode:"tags",clearOnSelect:!1,canClear:!1,onSelect:l[1]||(l[1]=a=>h(a,"cycleValue")),searchable:!0,placeholder:"Start typing or select...",style:{marginBottom:"16px"}},{option:w(({option:a})=>[s("span",null,m(a.label),1),s("span",{class:E(["tag",{current:i(N)(a.year)}])},m(a.year),3)]),_:1},8,["modelValue","options"]),te,y(F,{modelValue:i(t).activityValue,"onUpdate:modelValue":l[2]||(l[2]=a=>i(t).activityValue=a),"close-on-select":!0,options:i(A),mode:"tags",onSelect:l[3]||(l[3]=a=>h(a,"activityValue")),searchable:!0,placeholder:"Start typing or select..."},{option:w(({option:a})=>[s("span",null,m(a.label),1),s("span",{class:E(["tag",{current:i(N)(a.year)}])},m(a.year),3)]),_:1},8,["modelValue","options"])])),s("div",ae,[y(U,{options:r.value,modelValue:i(t).cycleValue,"onUpdate:modelValue":l[4]||(l[4]=a=>i(t).cycleValue=a)},null,8,["options","modelValue"]),y(J,{options:V.value,modelValue:u.value,"onUpdate:modelValue":l[5]||(l[5]=a=>u.value=a)},null,8,["options","modelValue"]),d.value&&d.value.length>0?(v(),C(ee,{key:0,options:d.value,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=a=>c.value=a)},null,8,["options","modelValue"])):j("",!0)]),y(R)],64)}}};var ne=I(oe,[["__scopeId","data-v-dbcd423c"]]);export{ne as default};
