import{F as L}from"./FavoriteToggler.f8928388.js";import{F as M}from"./FilterTogglerMulti.2ecff052.js";import{_ as O,u as R,f as B,r as y,p as K,j as C,g as p,a as m,o as f,c as U,e as o,t as n,i as s,h as S,d as i,T as x,w as A,F as Y,q as k,s as D,x as E,n as F}from"./index.dea29483.js";const w=v=>(k("data-v-49db883b"),v=v(),D(),v),j=w(()=>o("div",{class:"multiselect-label"},[o("span",null,"CYCLE "),E("Selection:")],-1)),q=w(()=>o("div",{class:"multiselect-label"},[o("span",null,"ACTIVITY "),E("Selection: ")],-1)),z={class:"filter-group"},G={setup(v){const c=R();B(()=>{c.togglers.find(e=>e.name==="cycle_1").value!=="unset"&&(t.cycleValue=[c.togglers.find(e=>e.name==="cycle_1").value]),c.togglers.find(e=>e.name==="cycle_2").value!=="unset"&&(t.activityValue=c.togglers.find(e=>e.name==="cycle_2").value),c.togglers.find(e=>e.name==="cycle_3").value!=="unset"&&(u.value=c.togglers.find(e=>e.name==="cycle_3").value)});const I=y(["Indep/Local","RKA"]),u=y(["Indep/Local","RKA"]),d=y([{value:3,label:"Cycle Name 4",activities:[5],favorite:!0,year:"2023"},{value:2,label:"Cycle Name 3",activities:[2,3,4],year:"2023"},{value:1,label:"Cycle Name 2",activities:[1,2,4],favorite:!0,year:"2022"},{value:0,label:"Cycle Name 1",activities:[1,3,4],favorite:!0,year:"2022"}]),N=y([{value:0,label:"ALL SELECTED"},{value:1,label:"Activity 1"},{value:2,label:"Activity 2"},{value:3,label:"Activity 3"},{value:4,label:"Activity 4"},{value:5,label:"Activity 5"}]),t=K({cycleValue:[0],activityValue:[0]}),T=C(()=>d.value.filter(e=>t.cycleValue.includes(e.value))),V=C(()=>N.value.filter(({value:e})=>e===0||t.cycleValue.includes(0)?!0:T.value.some(({activities:l})=>l.includes(e))));p(()=>t.cycleValue,e=>{e.length<1&&(t.cycleValue=[d.value.length-1]),t.activityValue=t.activityValue.filter(l=>V.value.some(({value:r})=>l===r)),c.save(t.cycleValue[0],"cycle_1")}),p(()=>t.activityValue,e=>{e.length<1&&(t.activityValue=[0]),c.save(t.activityValue,"cycle_2")}),p(()=>u.value,e=>{e.length!==void 0&&c.save(u.value,"cycle_3")});function g(e,l){l==="cycleValue"?t[l]=[e]:l==="activityValue"&&(e==0?t[l]=[0]:e!==0&&t[l].includes(0)&&(t[l]=t[l].filter(r=>r!==0)))}let _=e=>{let l=new Date;return Number(e)===l.getFullYear()};return(e,l)=>{const r=m("ExportExcel"),b=m("Multiselect"),h=m("RouterView");return f(),U(Y,null,[o("div",null,n(s(t).SalesChannelFilter_Value),1),(f(),S(x,{to:"#export-excel"},[i(r,{disabled:""})])),(f(),S(x,{to:"#multiselector"},[j,i(b,{modelValue:s(t).cycleValue,"onUpdate:modelValue":l[0]||(l[0]=a=>s(t).cycleValue=a),"close-on-select":!0,options:d.value,mode:"tags",clearOnSelect:!1,canClear:!1,onSelect:l[1]||(l[1]=a=>g(a,"cycleValue")),searchable:!0,placeholder:"Start typing or select...",style:{marginBottom:"16px"}},{option:A(({option:a})=>[o("span",null,n(a.label),1),o("span",{class:F(["tag",{current:s(_)(a.year)}])},n(a.year),3)]),_:1},8,["modelValue","options"]),q,i(b,{modelValue:s(t).activityValue,"onUpdate:modelValue":l[2]||(l[2]=a=>s(t).activityValue=a),"close-on-select":!0,options:s(V),mode:"tags",onSelect:l[3]||(l[3]=a=>g(a,"activityValue")),searchable:!0,placeholder:"Start typing or select..."},{option:A(({option:a})=>[o("span",null,n(a.label),1),o("span",{class:F(["tag",{current:s(_)(a.year)}])},n(a.year),3)]),_:1},8,["modelValue","options"])])),o("div",z,[i(L,{options:d.value,modelValue:s(t).cycleValue,"onUpdate:modelValue":l[4]||(l[4]=a=>s(t).cycleValue=a)},null,8,["options","modelValue"]),i(M,{options:I.value,modelValue:u.value,"onUpdate:modelValue":l[5]||(l[5]=a=>u.value=a)},null,8,["options","modelValue"])]),i(h)],64)}}};var Q=O(G,[["__scopeId","data-v-49db883b"]]);export{Q as default};
